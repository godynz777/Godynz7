-- TBAO Hub-Inspired ESP UI (By ChatGPT)
-- Interface para ESP com aura, minimizaÃ§Ã£o e cor customizÃ¡vel

local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

-- ConfiguraÃ§Ãµes iniciais
local Settings = {
    ESPEnabled = true,
    TeamCheck = true,
    AuraColor = Color3.fromRGB(255, 0, 255), -- Roxo neon inicial
}

-- Criar GUI
local ScreenGui = Instance.new("ScreenGui", CoreGui)
ScreenGui.Name = "ESP_UI"

local MainFrame = Instance.new("Frame", ScreenGui)
MainFrame.BackgroundColor3 = Color3.fromRGB(35, 0, 60)
MainFrame.Size = UDim2.new(0, 300, 0, 260)
MainFrame.Position = UDim2.new(0, 100, 0, 100)
MainFrame.Active = true
MainFrame.Draggable = true

local UICorner = Instance.new("UICorner", MainFrame)
UICorner.CornerRadius = UDim.new(0, 10)

local UIStroke = Instance.new("UIStroke", MainFrame)
UIStroke.Color = Color3.fromRGB(170, 0, 255)
UIStroke.Thickness = 2
UIStroke.Transparency = 0.3

-- TÃ­tulo
local Title = Instance.new("TextLabel", MainFrame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.Text = "ðŸ’œ ESP Panel"
Title.TextColor3 = Color3.new(1, 1, 1)
Title.BackgroundTransparency = 1
Title.Font = Enum.Font.GothamBold
Title.TextSize = 16

-- Minimizar botÃ£o
local Minimize = Instance.new("TextButton", MainFrame)
Minimize.Text = "âœ•"
Minimize.Font = Enum.Font.GothamBold
Minimize.TextSize = 18
Minimize.TextColor3 = Color3.fromRGB(255, 255, 255)
Minimize.Size = UDim2.new(0, 30, 0, 30)
Minimize.Position = UDim2.new(1, -35, 0, 0)
Minimize.BackgroundTransparency = 1

local minimized = false
Minimize.MouseButton1Click:Connect(function()
    minimized = not minimized
    for _, child in ipairs(MainFrame:GetChildren()) do
        if child:IsA("GuiObject") and child ~= Title and child ~= Minimize then
            child.Visible = not minimized
        end
    end
    Title.Text = minimized and "ðŸ’œ ESP (Minimized)" or "ðŸ’œ ESP Panel"
end)

-- FunÃ§Ã£o criadora de toggle
local function CreateToggle(name, default, callback, y)
    local Toggle = Instance.new("TextButton", MainFrame)
    Toggle.Size = UDim2.new(0, 260, 0, 25)
    Toggle.Position = UDim2.new(0, 20, 0, y)
    Toggle.BackgroundColor3 = Color3.fromRGB(45, 0, 75)
    Toggle.TextColor3 = Color3.new(1, 1, 1)
    Toggle.Font = Enum.Font.Gotham
    Toggle.TextSize = 14
    Toggle.Text = name .. ": " .. (default and "ON" or "OFF")

    local state = default
    Toggle.MouseButton1Click:Connect(function()
        state = not state
        Toggle.Text = name .. ": " .. (state and "ON" or "OFF")
        callback(state)
    end)
end

-- Criar os toggles
CreateToggle("ESP Ativo", Settings.ESPEnabled, function(val) Settings.ESPEnabled = val end, 40)
CreateToggle("Team Check", Settings.TeamCheck, function(val) Settings.TeamCheck = val end, 75)

-- Cor da aura
local ColorLabel = Instance.new("TextLabel", MainFrame)
ColorLabel.Text = "Cor da Aura:"
ColorLabel.Font = Enum.Font.Gotham
ColorLabel.TextSize = 14
ColorLabel.TextColor3 = Color3.new(1, 1, 1)
ColorLabel.Position = UDim2.new(0, 20, 0, 110)
ColorLabel.Size = UDim2.new(0, 100, 0, 25)
ColorLabel.BackgroundTransparency = 1

local ColorBox = Instance.new("TextBox", MainFrame)
ColorBox.Position = UDim2.new(0, 130, 0, 110)
ColorBox.Size = UDim2.new(0, 100, 0, 25)
ColorBox.PlaceholderText = "255,0,255"
ColorBox.Text = "255,0,255"
ColorBox.TextSize = 14
ColorBox.Font = Enum.Font.Gotham
ColorBox.TextColor3 = Color3.new(1, 1, 1)
ColorBox.BackgroundColor3 = Color3.fromRGB(60, 0, 80)

ColorBox.FocusLost:Connect(function()
    local r, g, b = ColorBox.Text:match("(%d+),(%d+),(%d+)")
    if r and g and b then
        Settings.AuraColor = Color3.fromRGB(tonumber(r), tonumber(g), tonumber(b))
    end
end)
